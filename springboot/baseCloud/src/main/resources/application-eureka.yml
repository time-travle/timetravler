spring:
  cloud:
    inetutils:
      ignoredInterfaces: [ 'VMware.*','VirtualBox.*' ]
      use-only-site-local-interfaces: true
    config:
      discovery:
        enabled: true
        service-id: localhost

management:
  endpoints:
    enabled-by-default: false #不暴露所有端点信息
    web:
      exposure:
        include: mappings  #以web方式暴露
  endpoint:
    mappings:
      enabled: true
  health:
    redis:
      enabled: true

#eureka
eureka:
  instance:
    prefer-ip-address: true
    hostname: ${spring.cloud.client.ip-address}
    instance-id: ${spring.cloud.client.ip-address}:${server.port}
    #服务过期时间配置,超过这个时间没有接收到心跳EurekaServer就会将这个实例剔除
    #注意 EurekaServer一定要设置eureka.server.eviction-interval-timer-in-ms否则这个配置无效
    #这个配置一般为服务刷新时间配置的三倍 默认90s
    lease-expiration-duration-in-seconds: 15
    #服务刷新时间配置，每隔这个时间会主动心跳一次 默认30s
    lease-renewal-interval-in-seconds: 5
  client:
    serviceUrl:
      defaultZone: http://center-second:8762/eureka/
    #eureka client刷新本地缓存时间默认30s
    registry-fetch-interval-seconds: 5